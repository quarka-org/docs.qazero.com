---
id: faq-heatmap-data
title: ヒートマップのデータ集計について
sidebar_position: 2
---

# ヒートマップのデータ集計について

このページでは、目標画面とヒートマップ画面で表示される数値の違いについて説明します。

---

## Q. 目標画面の「セッション数」と、ヒートマップ画面の「データ数」が一致しないのはなぜですか？

例：
目標画面では **400セッション** と表示されているのに、  
ヒートマップでは **1200データ** と表示される場合があります。

### A. カウントしている「単位」が異なるためです。

### 目標画面の「セッション」について

目標画面の表に表示される「セッション」は、  
実際には **ヒートマップデータが記録されたページビュー（PV）数の合計** を表示しています。

ラベル上は「セッション」となっていますが、  
内部処理では **ヒートマップ対象となる有効PV数** を集計しています。

---

### ヒートマップ画面の「データ数」について

ヒートマップ画面に表示される「データ数」も、  
**ページビュー（PV）単位のログ数** をカウントしています。

ただし、以下の理由により、目標画面の数値より多く表示される場合があります。

- **同一セッション内での複数回閲覧**  
  1人のユーザー（1セッション）が対象ページを3回閲覧した場合、  
  セッション数は「1」ですが、ヒートマップのデータは「3」として蓄積されます。

- **ラベルの定義の違い**  
  管理画面の表では便宜上「セッション」と表記していますが、  
  実際にはデバイス別のPV数を合算しているため、  
  実際のセッション数よりも大きな値（PV数に近い値）になる傾向があります。

---

## Q. 数値に差があっても、正しく「目標達成したセッション」から描画されていますか？

### A. はい。正しく描画されています。

ヒートマップの描画処理では、

> **目標を達成したセッションに紐づくデータのみ**

を抽出して使用しています。

数値に開きがあるのは、

- 目標達成後の行動
- 同一セッション内での繰り返し閲覧

がすべてPV単位でカウントされているためです。

**目標達成者以外のデータが混在しているわけではありません。**

---

## 数値の見方（まとめ）

| 画面 | 項目名 | 数値の意味 |
|------|--------|------------|
| 目標画面の表 | セッション | ヒートマップ対象となる **合計PV数**（※ラベルはセッション） |
| ヒートマップ表示 | データ数 | 描画に使用されている **有効ログ数（PV単位）** |

---

> 💡 ポイント  
> 400（目標画面）と1200（ヒートマップ）という差は、  
> 目標を達成したユーザーがそのページを繰り返し閲覧・回遊した結果として、  
> 正しく反映されているものです。