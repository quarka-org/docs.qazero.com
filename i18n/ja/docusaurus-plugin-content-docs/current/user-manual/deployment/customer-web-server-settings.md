---
id: customer-web-server-settings
title: お客様 Web サーバー側の設定
sidebar_position: 6
---


# お客様 Web サーバー側の設定

## このページについて

本ページでは、**QA ZERO を正常に動作させるために、お客様側の Web サーバーで必要となる設定**について説明します。

QA ZERO は、計測対象サイトと通信を行い、  
HTML 取得や JavaScript タグの実行によってデータを収集します。

そのため、Web サーバー側の設定内容によっては、  
一部機能が正常に動作しない場合があります。

---

## 計測対象サイトへのアクセス許可（必須）

QA ZERO では、**計測対象サイトの HTML を取得**することで、  
自動変更履歴の記録や解析処理を行います。

そのため、以下の条件を満たしている必要があります。

- QA ZERO 導入ドメインからのアクセスを許可する
- 計測対象サイトの **全ページ** が取得可能であること

IP 制限やアクセス制御を行っている場合は、  
QA ZERO サーバーからのアクセスが遮断されていないか、事前に確認してください。

---

## CDN / キャッシュ設定について（重要）

QA ZERO の計測タグから呼び出される一部のファイルについては、  
**CDN やキャッシュの対象から除外する必要があります。**

以下のパスは、**キャッシュ除外設定を行ってください。**

```
/wp-content/plugins/qa-zero/js/{tracking_id}/qtag.js
/wp-content/plugins/qa-zero/qahm-zero-ajax.php
/wp-content/plugins/qa-zero/qtag.php?tracking_id={tracking_id}
```

※ `{tracking_id}` は、環境ごとに異なります。

これらのファイルがキャッシュされると、
計測データが正しく送信されない場合があります。

---

## JavaScript の圧縮・最適化設定について

一部の CDN やキャッシュサーバーでは、
JavaScript ファイルに対して **自動的に圧縮（minify）処理**が行われる場合があります。

QA ZERO の計測タグについては、
minify 処理によってタグの一部が正しく動作しなくなるケースがあります。

* JavaScript の自動圧縮機能を利用している場合は、事前に動作確認を行ってください
* 問題が発生する場合は、対象ファイルを圧縮対象から除外してください

---

## Google Tag Manager を利用する場合

QA ZERO の計測タグは、
**Google Tag Manager（GTM）を利用して設置することを推奨**しています。

* トリガーは「初期化（Initialization）」を推奨
* 全ページで実行されるよう設定してください

GTM を利用していない場合は、
全ページの HTML に直接タグを埋め込む形でも利用可能です。

---

## セキュリティプラグイン・WAF 利用時の注意点

以下のような機能を利用している場合、
QA ZERO の通信が遮断される可能性があります。

* セキュリティ系プラグイン
* WAF（Web Application Firewall）
* 不正アクセス検知機能

導入後に計測データが取得できない場合は、
これらの設定内容を一度確認してください。

---

## 動作確認について

設定完了後は、必ず **動作確認**を行ってください。

* 計測タグが正常に読み込まれているか
* データが管理画面に反映されているか

問題が発生した場合は、
設定内容やアクセス制御を中心に再確認してください。

---

## 次に確認すべきページ

お客様 Web サーバー側の設定を確認した後は、
以下のページを参照してください。

* 導入フロー
* データ保存・バックアップ
* 運用上の注意点


